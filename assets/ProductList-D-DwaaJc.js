import{A as e,B as t,C as n,E as r,G as i,H as a,L as o,M as s,O as c,P as l,U as u,W as d,k as f}from"./index-DzN3exBA.js";import{n as p,r as m,t as h}from"./BaseSearch-B5au1m01.js";var g={class:`products`},_={class:`flex justify-between items-center mb-4`},v=e({__name:`ProductList`,setup(e){let v=u({name:``,category:``}),y=[{label:`Product Name`,prop:`name`,type:`input`,placeholder:`Product Name`},{label:`Category`,prop:`category`,type:`select`,placeholder:`Select Category`,options:[{label:`Electronics`,value:`Electronics`},{label:`Clothing`,value:`Clothing`},{label:`Home`,value:`Home`},{label:`Books`,value:`Books`}]}],b=[{prop:`id`,label:`ID`,width:80},{prop:`name`,label:`Product Name`,width:250},{prop:`price`,label:`Price`,width:120},{prop:`stock`,label:`Stock`,width:120},{prop:`category`,label:`Category`},{label:`Operations`,slot:`operations`,width:150,fixed:`right`}],x=d([]),S=d(!1),C=d(0),w=d(1),T=d(10),E=async()=>{S.value=!0;try{x.value=(await m.get(`/api/products`,{params:{page:w.value,limit:T.value,...v}})).data.data,C.value=200}catch(e){console.error(`Failed to fetch products:`,e)}finally{S.value=!1}},D=()=>{w.value=1,E()},O=()=>{v.name=``,v.category=``,D()};return s(()=>{E()}),(e,s)=>{let u=o(`el-button`);return l(),r(`div`,g,[n(`div`,_,[s[4]||=n(`h2`,{class:`text-xl font-bold`},`Product List`,-1),f(u,{type:`primary`},{default:t(()=>[...s[3]||=[c(`Add Product`,-1)]]),_:1})]),f(h,{modelValue:i(v),"onUpdate:modelValue":s[0]||=e=>a(v)?v.value=e:v=e,items:y,onSearch:D,onReset:O},null,8,[`modelValue`]),f(p,{data:x.value,columns:b,loading:S.value,pagination:!0,total:C.value,page:w.value,"onUpdate:page":s[1]||=e=>w.value=e,limit:T.value,"onUpdate:limit":s[2]||=e=>T.value=e,onPaginationChange:E},{operations:t(()=>[f(u,{link:``,type:`primary`,size:`small`},{default:t(()=>[...s[5]||=[c(`Edit`,-1)]]),_:1}),f(u,{link:``,type:`danger`,size:`small`},{default:t(()=>[...s[6]||=[c(`Delete`,-1)]]),_:1})]),_:1},8,[`data`,`loading`,`total`,`page`,`limit`])])}}});export{v as default};