import{A as e,C as t,E as n,G as r,H as i,I as a,K as o,M as s,N as c,O as l,P as u,W as d,Y as f,k as p,q as m,z as h}from"./index-XjzLVVlw.js";import{t as g}from"./echarts-CalMtDjq.js";import{n as _,r as v,t as y}from"./BaseSearch-CzGH2ptv.js";import{n as b,r as x,t as S}from"./filters-B4bB_n8s.js";var C={class:`products`},w={class:`flex justify-between items-center mb-4`},ee={class:`flex items-center gap-3`},te={class:`grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4`},ne={class:`bg-white rounded-xl border border-gray-100 shadow-card p-4`},re={class:`flex items-center justify-between mb-2`},T={class:`flex items-center gap-2`},E={class:`text-xl font-bold text-indigo-700`},D={class:`bg-white rounded-xl border border-gray-100 shadow-card p-4`},O={class:`flex items-center justify-between mb-2`},k={class:`rounded-xl shadow-card p-4 bg-[#0F1A3A] text-white`},A={class:`flex items-center justify-between mb-2`},j={class:`bg-white rounded-xl border border-gray-100 shadow-card p-3 mb-3 flex flex-wrap items-center gap-3`},M={class:`flex items-center gap-3`},N={class:`flex flex-col`},P={class:`text-sm font-medium text-gray-800`},F={class:`text-xs text-gray-500`},I={class:`text-xs text-gray-500`},L=e({__name:`ProductList`,setup(e){let b=r({name:``,category:``,sku:``}),x=[{label:`Product Name`,prop:`name`,type:`input`,placeholder:`Product Name`},{label:`Category`,prop:`category`,type:`select`,placeholder:`Select Category`,options:[{label:`Electronics`,value:`Electronics`},{label:`Clothing`,value:`Clothing`},{label:`Home`,value:`Home`},{label:`Books`,value:`Books`}]}],S=[{label:`Product / SKU ID`,slot:`product`,width:260},{label:`Details`,slot:`details`},{label:`Incoming`,slot:`incoming`,width:120},{label:`Reserved`,slot:`reserved`,width:120},{label:`Available`,slot:`available`,width:120},{label:`Total`,slot:`total`,width:120},{label:`COG`,slot:`cog`,width:140},{label:`Actions`,slot:`actions`,width:120,fixed:`right`}],L=o([]),R=o(!1),z=o(0),B=o(1),V=o(10),H=o(null),U=o(null),W=o(null),G=null,K=null,q=null,J=r({electronics:0,clothing:0,home:0,books:0}),Y=o(0),X=r({lastDays:`7`,range:``,stock:`all`,qty:`all`}),ie=()=>{let e=L.value||[],t=[`Electronics`,`Clothing`,`Home`,`Books`],n=[0,0,0,0],r=[0,0,0,0];for(let i of e){let e=t.indexOf(i.category);if(e>=0){n[e]=(n[e]??0)+1;let t=typeof i.stock==`number`?i.stock:Number(i.stock||0);r[e]=(r[e]??0)+(isNaN(t)?0:t)}}J.electronics=n[0]??0,J.clothing=n[1]??0,J.home=n[2]??0,J.books=n[3]??0,Y.value=(r[0]??0)+(r[1]??0)+(r[2]??0)+(r[3]??0);let i={grid:{left:24,right:24,top:28,bottom:24},tooltip:{trigger:`axis`},xAxis:{type:`category`,data:t},yAxis:{type:`value`},series:[{name:`Count`,type:`bar`,data:n,itemStyle:{color:`#60a5fa`}}]};!G&&H.value&&(G=g(H.value),window.addEventListener(`resize`,Z)),G&&G.setOption(i),!K&&U.value&&(K=g(U.value)),K&&K.setOption({series:[{type:`pie`,radius:[`60%`,`90%`],center:[`50%`,`50%`],avoidLabelOverlap:!1,label:{show:!1},labelLine:{show:!1},data:[{value:30,name:`Used`,itemStyle:{color:`#3b82f6`}},{value:70,name:`Free`,itemStyle:{color:`#e5e7eb`}}],silent:!0,animationType:`scale`,animationEasing:`elasticOut`}]});let a={grid:{left:10,right:10,top:10,bottom:10},xAxis:{type:`category`,boundaryGap:!1,show:!1,data:Array.from({length:24}).map((e,t)=>t)},yAxis:{type:`value`,show:!1},series:[{type:`line`,smooth:!0,data:Array.from({length:24}).map((e,t)=>Math.round(50+20*Math.sin(t/3))),areaStyle:{color:`rgba(99, 102, 241, 0.25)`},lineStyle:{color:`#60a5fa`}}]};!q&&W.value&&(q=g(W.value)),q&&q.setOption(a)},Z=()=>{G&&G.resize(),K&&K.resize(),q&&q.resize()},Q=async()=>{R.value=!0;try{L.value=(await v.get(`/api/products`,{params:{page:B.value,limit:V.value,...b}})).data.data,z.value=200,await s(),ie()}catch(e){console.error(`Failed to fetch products:`,e)}finally{R.value=!1}},$=()=>{B.value=1,Q()},ae=()=>{b.name=``,b.category=``,$()};return u(()=>{Q()}),c(()=>{window.removeEventListener(`resize`,Z),G&&=(G.dispose(),null),K&&=(K.dispose(),null),q&&=(q.dispose(),null)}),(e,r)=>{let o=h(`el-button`),s=h(`el-tag`),c=h(`el-input`),u=h(`el-option`),g=h(`el-select`),v=h(`el-date-picker`),G=h(`el-avatar`);return a(),n(`div`,C,[t(`div`,w,[r[10]||=t(`h2`,{class:`text-xl font-bold flex`},[t(`p`,null,`Inventory`),t(`p`,{class:`text-#9A9A9A font-size-5`},`/All Products`)],-1),t(`div`,ee,[p(o,{type:`primary`,class:`!px-4`},{default:i(()=>[...r[8]||=[t(`span`,{class:`flex items-center gap-2`},[t(`img`,{src:`data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8%201.75C8.19891%201.75%208.38968%201.82902%208.53033%201.96967C8.67098%202.11032%208.75%202.30109%208.75%202.5V7.25H13.5C13.6989%207.25%2013.8897%207.32902%2014.0303%207.46967C14.171%207.61032%2014.25%207.80109%2014.25%208C14.25%208.19891%2014.171%208.38968%2014.0303%208.53033C13.8897%208.67098%2013.6989%208.75%2013.5%208.75H8.75V13.5C8.75%2013.6989%208.67098%2013.8897%208.53033%2014.0303C8.38968%2014.171%208.19891%2014.25%208%2014.25C7.80109%2014.25%207.61032%2014.171%207.46967%2014.0303C7.32902%2013.8897%207.25%2013.6989%207.25%2013.5V8.75H2.5C2.30109%208.75%202.11032%208.67098%201.96967%208.53033C1.82902%208.38968%201.75%208.19891%201.75%208C1.75%207.80109%201.82902%207.61032%201.96967%207.46967C2.11032%207.32902%202.30109%207.25%202.5%207.25H7.25V2.5C7.25%202.30109%207.32902%202.11032%207.46967%201.96967C7.61032%201.82902%207.80109%201.75%208%201.75Z'%20fill='white'/%3e%3c/svg%3e`,alt:`plus`,class:`w-3 h-3`}),t(`span`,null,`Add Product`)],-1)]]),_:1}),p(o,{link:``,class:`!text-gray-600 !px-2`},{default:i(()=>[...r[9]||=[t(`span`,{class:`flex items-center gap-1`},[t(`img`,{src:`data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.02934%201.96985C2.88716%201.83737%202.69911%201.76524%202.50481%201.76867C2.31051%201.7721%202.12513%201.85081%201.98771%201.98822C1.8503%202.12564%201.77159%202.31102%201.76816%202.50532C1.76473%202.69963%201.83686%202.88767%201.96934%203.02985L2.79934%203.85985C1.8075%204.67162%201.01976%205.70458%200.499336%206.87585L0.239336%207.46085C0.163949%207.63072%200.125%207.8145%200.125%208.00035C0.125%208.18619%200.163949%208.36998%200.239336%208.53985L0.499336%209.12485C0.96028%2010.1611%201.63092%2011.0906%202.46896%2011.8547C3.30701%2012.6188%204.29428%2013.2011%205.36854%2013.5647C6.4428%2013.9283%207.58074%2014.0654%208.71062%2013.9673C9.84049%2013.8692%2010.9378%2013.5381%2011.9333%2012.9948L12.9693%2014.0298C13.038%2014.1035%2013.1208%2014.1626%2013.2128%2014.2036C13.3048%2014.2446%2013.4041%2014.2667%2013.5048%2014.2684C13.6055%2014.2702%2013.7055%2014.2517%2013.7989%2014.214C13.8923%2014.1762%2013.9772%2014.1201%2014.0484%2014.0489C14.1196%2013.9777%2014.1757%2013.8928%2014.2135%2013.7994C14.2512%2013.7061%2014.2697%2013.606%2014.2679%2013.5053C14.2662%2013.4046%2014.2441%2013.3053%2014.2031%2013.2133C14.1621%2013.1213%2014.103%2013.0385%2014.0293%2012.9698L3.02934%201.96985ZM10.8173%2011.8778L9.52334%2010.5848C8.9503%2010.9235%208.28092%2011.0619%207.62057%2010.9784C6.96023%2010.8949%206.34641%2010.5941%205.87575%2010.1234C5.40509%209.65278%205.10432%209.03896%205.02079%208.37861C4.93725%207.71826%205.0757%207.04888%205.41434%206.47585L3.86534%204.92685C3.00034%205.60338%202.3149%206.48216%201.86934%207.48585L1.64034%207.99985L1.87034%208.51485C2.23184%209.32745%202.75128%2010.0601%203.39846%2010.6701C4.04564%2011.2802%204.80764%2011.7555%205.64016%2012.0684C6.47268%2012.3814%207.3591%2012.5257%208.24788%2012.4929C9.13667%2012.4602%2010.0101%2012.2511%2010.8173%2011.8778ZM6.54934%207.61085C6.48127%207.86542%206.48137%208.13343%206.54965%208.38795C6.61792%208.64247%206.75195%208.87456%206.93829%209.06089C7.12463%209.24723%207.35671%209.38126%207.61123%209.44954C7.86575%209.51781%208.13376%209.51791%208.38834%209.44985L6.54934%207.61085ZM8.20734%205.00685L10.9913%207.79085C10.941%207.0691%2010.6315%206.38985%2010.1199%205.87826C9.60833%205.36666%208.92909%205.05719%208.20734%205.00685ZM14.1273%208.51485C13.8892%209.05145%2013.5816%209.55442%2013.2123%2010.0108L14.2773%2011.0768C14.7745%2010.4869%2015.1859%209.82976%2015.4993%209.12485L15.7593%208.53985C15.8349%208.36984%2015.8739%208.18588%2015.8739%207.99985C15.8739%207.81382%2015.8349%207.62985%2015.7593%207.45985L15.4993%206.87585C14.6826%205.03999%2013.221%203.5674%2011.3913%202.73696C9.56159%201.90652%207.49088%201.7759%205.57134%202.36985L6.80934%203.60985C8.28733%203.34373%209.81188%203.58111%2011.139%204.28401C12.4661%204.98691%2013.5191%206.11468%2014.1293%207.48685L14.3573%208.00085L14.1273%208.51485Z'%20fill='%2316215B'/%3e%3c/svg%3e`,alt:`hide`,class:`w-4 h-4`}),t(`span`,null,`Hide Data`)],-1)]]),_:1})])]),t(`div`,te,[t(`div`,ne,[t(`div`,re,[r[12]||=t(`div`,{class:`text-sm font-semibold text-gray-700`},`Total Inventory`,-1),t(`div`,T,[p(s,{size:`small`,type:`info`,effect:`plain`},{default:i(()=>[...r[11]||=[l(`45%`,-1)]]),_:1}),t(`span`,E,f(Y.value),1)])]),t(`div`,{ref_key:`invChartRef`,ref:H,class:`w-full h-44`},null,512)]),t(`div`,D,[t(`div`,O,[r[14]||=t(`div`,{class:`text-sm font-semibold text-gray-700`},`Total Storage`,-1),p(s,{size:`small`,type:`info`,effect:`plain`},{default:i(()=>[...r[13]||=[l(`30%`,-1)]]),_:1})]),t(`div`,{ref_key:`storageChartRef`,ref:U,class:`w-full h-44`},null,512)]),t(`div`,k,[t(`div`,A,[r[16]||=t(`div`,{class:`text-sm font-semibold opacity-80`},`Total Inventory Value`,-1),p(s,{size:`small`,effect:`dark`,class:`!bg-white/10 !border-white/20 !text-white`},{default:i(()=>[...r[15]||=[l(`15%`,-1)]]),_:1})]),r[17]||=t(`div`,{class:`flex items-center justify-end mb-1`},[t(`span`,{class:`text-2xl font-bold`},`$9k`)],-1),t(`div`,{ref_key:`valueChartRef`,ref:W,class:`w-full h-40`},null,512)])]),t(`div`,j,[p(c,{modelValue:m(b).sku,"onUpdate:modelValue":r[0]||=e=>m(b).sku=e,placeholder:`Search by SKU...`,clearable:``,class:`w-64`},{prefix:i(()=>[...r[18]||=[t(`img`,{src:`data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.4994%206.9999C11.4994%207.59085%2011.383%208.17601%2011.1569%208.72197C10.9307%209.26794%2010.5993%209.76401%2010.1814%2010.1819C9.76353%2010.5997%209.26745%2010.9312%208.72148%2011.1574C8.17552%2011.3835%207.59036%2011.4999%206.99941%2011.4999C6.40846%2011.4999%205.8233%2011.3835%205.27733%2011.1574C4.73137%2010.9312%204.23529%2010.5997%203.81743%2010.1819C3.39956%209.76401%203.0681%209.26794%202.84195%208.72197C2.6158%208.17601%202.49941%207.59085%202.49941%206.9999C2.49941%205.80642%202.97351%204.66183%203.81743%203.81792C4.66134%202.974%205.80593%202.4999%206.99941%202.4999C8.19288%202.4999%209.33747%202.974%2010.1814%203.81792C11.0253%204.66183%2011.4994%205.80642%2011.4994%206.9999ZM10.6794%2011.7399C9.47379%2012.6759%207.95678%2013.1172%206.43721%2012.974C4.91764%2012.8309%203.50975%2012.114%202.50016%2010.9693C1.49056%209.82461%200.95516%208.3382%201.00294%206.81265C1.05073%205.2871%201.67811%203.8371%202.75736%202.75785C3.83662%201.6786%205.28661%201.05122%206.81216%201.00343C8.33771%200.955648%209.82412%201.49105%2010.9688%202.50065C12.1135%203.51024%2012.8304%204.91813%2012.9735%206.4377C13.1167%207.95726%2012.6754%209.47427%2011.7394%2010.6799L14.5294%2013.4699C14.6031%2013.5386%2014.6622%2013.6214%2014.7032%2013.7134C14.7442%2013.8054%2014.7662%2013.9047%2014.768%2014.0054C14.7698%2014.1061%2014.7513%2014.2061%2014.7135%2014.2995C14.6758%2014.3929%2014.6197%2014.4777%2014.5484%2014.5489C14.4772%2014.6202%2014.3924%2014.6763%2014.299%2014.714C14.2056%2014.7517%2014.1056%2014.7703%2014.0049%2014.7685C13.9042%2014.7667%2013.8049%2014.7447%2013.7129%2014.7037C13.6209%2014.6627%2013.5381%2014.6036%2013.4694%2014.5299L10.6794%2011.7399Z'%20fill='%236B6B6B'/%3e%3c/svg%3e`,class:`w-4 h-4`,alt:`search`},null,-1)]]),_:1},8,[`modelValue`]),p(g,{modelValue:X.lastDays,"onUpdate:modelValue":r[1]||=e=>X.lastDays=e,class:`w-36`,placeholder:`Last 7 days`},{default:i(()=>[p(u,{label:`Last 7 days`,value:`7`}),p(u,{label:`Last 30 days`,value:`30`}),p(u,{label:`Last 90 days`,value:`90`})]),_:1},8,[`modelValue`]),p(v,{modelValue:X.range,"onUpdate:modelValue":r[2]||=e=>X.range=e,type:`daterange`,"range-separator":`to`,"start-placeholder":`Start date`,"end-placeholder":`End date`,class:`w-72`},null,8,[`modelValue`]),p(g,{modelValue:X.stock,"onUpdate:modelValue":r[3]||=e=>X.stock=e,class:`w-32`,placeholder:`Stock`},{default:i(()=>[p(u,{label:`All`,value:`all`}),p(u,{label:`Low`,value:`low`}),p(u,{label:`Out of stock`,value:`out`})]),_:1},8,[`modelValue`]),p(g,{modelValue:X.qty,"onUpdate:modelValue":r[4]||=e=>X.qty=e,class:`w-36`,placeholder:`Product Qty`},{default:i(()=>[p(u,{label:`All`,value:`all`}),p(u,{label:`< 100`,value:`<100`}),p(u,{label:`100 - 500`,value:`100-500`}),p(u,{label:`> 500`,value:`>500`})]),_:1},8,[`modelValue`]),p(o,{plain:``},{default:i(()=>[...r[19]||=[t(`span`,{class:`flex items-center gap-2`},[t(`img`,{src:`data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.50009%204.99997C7.50009%205.3978%207.34206%205.77933%207.06075%206.06064C6.77945%206.34194%206.39792%206.49998%206.00009%206.49998C5.60227%206.49998%205.22074%206.34194%204.93943%206.06064C4.65813%205.77933%204.50009%205.3978%204.50009%204.99997C4.50009%204.60215%204.65813%204.22062%204.93943%203.93931C5.22074%203.65801%205.60227%203.49997%206.00009%203.49997C6.39792%203.49997%206.77945%203.65801%207.06075%203.93931C7.34206%204.22062%207.50009%204.60215%207.50009%204.99997ZM8.90509%205.74997C8.73828%206.39353%208.36249%206.96348%207.83671%207.37036C7.31093%207.77723%206.66492%207.998%206.00009%207.998C5.33527%207.998%204.68926%207.77723%204.16348%207.37036C3.6377%206.96348%203.2619%206.39353%203.09509%205.74997H1.74709C1.54818%205.74997%201.35742%205.67096%201.21676%205.53031C1.07611%205.38965%200.997094%205.19889%200.997094%204.99997C0.997094%204.80106%201.07611%204.6103%201.21676%204.46964C1.35742%204.32899%201.54818%204.24997%201.74709%204.24997H3.09509C3.2619%203.60642%203.6377%203.03647%204.16348%202.62959C4.68926%202.22272%205.33527%202.00195%206.00009%202.00195C6.66492%202.00195%207.31093%202.22272%207.83671%202.62959C8.36249%203.03647%208.73828%203.60642%208.90509%204.24997H14.2501C14.449%204.24997%2014.6398%204.32899%2014.7804%204.46964C14.9211%204.6103%2015.0001%204.80106%2015.0001%204.99997C15.0001%205.19889%2014.9211%205.38965%2014.7804%205.53031C14.6398%205.67096%2014.449%205.74997%2014.2501%205.74997H8.90509ZM1.74709%2010.25H7.09209C7.25856%209.60597%207.63427%209.03553%208.16019%208.62827C8.68611%208.22101%209.33243%208.00002%209.99759%208.00002C10.6628%208.00002%2011.3091%208.22101%2011.835%208.62827C12.3609%209.03553%2012.7366%209.60597%2012.9031%2010.25H14.2501C14.449%2010.25%2014.6398%2010.329%2014.7804%2010.4696C14.9211%2010.6103%2015.0001%2010.8011%2015.0001%2011C15.0001%2011.1989%2014.9211%2011.3897%2014.7804%2011.5303C14.6398%2011.671%2014.449%2011.75%2014.2501%2011.75H12.9031C12.7363%2012.3935%2012.3605%2012.9635%2011.8347%2013.3704C11.3089%2013.7772%2010.6629%2013.998%209.99809%2013.998C9.33327%2013.998%208.68726%2013.7772%208.16148%2013.3704C7.6357%2012.9635%207.2599%2012.3935%207.09309%2011.75H1.74609C1.54718%2011.75%201.35642%2011.671%201.21576%2011.5303C1.07511%2011.3897%200.996094%2011.1989%200.996094%2011C0.996094%2010.8011%201.07511%2010.6103%201.21576%2010.4696C1.35642%2010.329%201.54818%2010.25%201.74709%2010.25ZM9.99609%209.49998C9.79911%209.49998%209.60406%209.53877%209.42207%209.61416C9.24008%209.68954%209.07472%209.80003%208.93543%209.93931C8.79615%2010.0786%208.68566%2010.244%208.61027%2010.426C8.53489%2010.6079%208.49609%2010.803%208.49609%2011C8.49609%2011.197%208.53489%2011.392%208.61027%2011.574C8.68566%2011.756%208.79615%2011.9213%208.93543%2012.0606C9.07472%2012.1999%209.24008%2012.3104%209.42207%2012.3858C9.60406%2012.4612%209.79911%2012.5%209.99609%2012.5C10.3939%2012.5%2010.7754%2012.3419%2011.0568%2012.0606C11.3381%2011.7793%2011.4961%2011.3978%2011.4961%2011C11.4961%2010.6022%2011.3381%2010.2206%2011.0568%209.93931C10.7754%209.65801%2010.3939%209.49998%209.99609%209.49998Z'%20fill='black'/%3e%3c/svg%3e`,class:`w-4 h-4`,alt:`filters`}),t(`span`,null,`Filters`)],-1)]]),_:1})]),p(y,{modelValue:m(b),"onUpdate:modelValue":r[5]||=e=>d(b)?b.value=e:b=e,items:x,onSearch:$,onReset:ae},null,8,[`modelValue`]),p(_,{data:L.value,columns:S,loading:R.value,pagination:!0,total:z.value,page:B.value,"onUpdate:page":r[6]||=e=>B.value=e,limit:V.value,"onUpdate:limit":r[7]||=e=>V.value=e,onPaginationChange:Q},{product:i(({row:e})=>[t(`div`,M,[p(G,{size:32,class:`bg-gray-100 text-gray-700`},{default:i(()=>[...r[20]||=[l(`P`,-1)]]),_:1}),t(`div`,N,[t(`span`,P,f(e.name),1),t(`span`,F,`SKU `+f(e.id),1)])])]),details:i(({row:e})=>[t(`span`,I,f(e.name)+` · `+f(e.category),1)]),incoming:i(()=>[...r[21]||=[t(`span`,null,`50`,-1)]]),reserved:i(({row:e})=>[t(`span`,null,f(Math.floor((typeof e.stock==`number`?e.stock:Number(e.stock||0))/10)),1)]),available:i(({row:e})=>[t(`span`,null,f(typeof e.stock==`number`?e.stock:Number(e.stock||0)),1)]),total:i(({row:e})=>[t(`span`,null,f((typeof e.stock==`number`?e.stock:Number(e.stock||0))+50),1)]),cog:i(({row:e})=>[t(`span`,null,f(String(e.price).replace(`¥`,`$ `)),1)]),actions:i(()=>[p(o,{link:``,type:`primary`,size:`small`},{default:i(()=>[...r[22]||=[l(`Edit`,-1)]]),_:1}),p(o,{link:``,type:`primary`,size:`small`},{default:i(()=>[...r[23]||=[l(`More`,-1)]]),_:1})]),_:1},8,[`data`,`loading`,`total`,`page`,`limit`])])}}});export{L as default};